{
  "Guard Clause Null": {
    "prefix": "guardnull",
    "body": [
      "if (${1:parameter} is null)",
      "{",
      "    throw new ArgumentNullException(nameof(${1:parameter}));",
      "}"
    ],
    "description": "Guard clause for null"
  },

  "Guard Clause String": {
    "prefix": "guardstr",
    "body": [
      "if (string.IsNullOrWhiteSpace(${1:stringValue}))",
      "{",
      "    throw new ArgumentException(\"${2:Message}\", nameof(${1:stringValue}));",
      "}"
    ],
    "description": "Guard clause for empty string"
  },

  "Log Information": {
    "prefix": "loginfo",
    "body": [
      "_logger.LogInformation(\"${1:Action} {UserId} at {Timestamp}\", _userContext.UserId, DateTime.UtcNow);"
    ],
    "description": "Structured log info"
  },

  "UseCase Class": {
    "prefix": "usecase",
    "body": [
      "public class ${1:CreateEntityHandler} : IRequestHandler<${2:CreateEntityCommand}, ${3:ResultType}>",
      "{",
      "    private readonly I${4:Repository} _repository;",
      "",
      "    public ${1:CreateEntityHandler}(I${4:Repository} repository)",
      "    {",
      "        _repository = repository;",
      "    }",
      "",
      "    public async Task<${3:ResultType}> Handle(${2:CreateEntityCommand} request, CancellationToken cancellationToken)",
      "    {",
      "        // TODO: logic",
      "        throw new NotImplementedException();",
      "    }",
      "}"
    ],
    "description": "Use case handler class"
  },

  "DTO Class": {
    "prefix": "dto",
    "body": [
      "public record ${1:EntityDto}(",
      "    ${2:Type1} ${3:Property1},",
      "    ${4:Type2} ${5:Property2}",
      ");"
    ],
    "description": "DTO record for requests or responses"
  },

  "Repository Interface": {
    "prefix": "repositoryinterface",
    "body": [
      "public interface I${1:Entity}Repository",
      "{",
      "    Task<${1:Entity}?> GetByIdAsync(Guid id, CancellationToken cancellationToken);",
      "    Task AddAsync(${1:Entity} entity, CancellationToken cancellationToken);",
      "    Task UpdateAsync(${1:Entity} entity, CancellationToken cancellationToken);",
      "    Task DeleteAsync(${1:Entity} entity, CancellationToken cancellationToken);",
      "}"
    ],
    "description": "Repository interface for an aggregate root"
  },

  "DbContext Class": {
    "prefix": "dbcontext",
    "body": [
      "public class ${1:AppDbContext} : DbContext",
      "{",
      "    public DbSet<${2:Entity}> ${2:Entities} => Set<${2:Entity}>();",
      "",
      "    public ${1:AppDbContext}(DbContextOptions<${1:AppDbContext}> options) : base(options) { }",
      "",
      "    protected override void OnModelCreating(ModelBuilder modelBuilder)",
      "    {",
      "        modelBuilder.ApplyConfigurationsFromAssembly(typeof(${1:AppDbContext}).Assembly);",
      "    }",
      "}"
    ],
    "description": "DbContext with ApplyConfigurationsFromAssembly"
  },

  "FluentValidation Class": {
    "prefix": "validator",
    "body": [
      "public class ${1:CreateEntityValidator} : AbstractValidator<${2:CreateEntityCommand}>",
      "{",
      "    public ${1:CreateEntityValidator}()",
      "    {",
      "        RuleFor(x => x.${3:Property})",
      "            .NotEmpty()",
      "            .WithMessage(\"${3:Property} is required\");",
      "    }",
      "}"
    ],
    "description": "FluentValidation validator class"
  },

  "Minimal Controller": {
    "prefix": "apicontroller",
    "body": [
      "[ApiController]",
      "[Route(\"api/[controller]\")]",
      "public class ${1:Entity}Controller : ControllerBase",
      "{",
      "    private readonly IMediator _mediator;",
      "",
      "    public ${1:Entity}Controller(IMediator mediator)",
      "    {",
      "        _mediator = mediator;",
      "    }",
      "",
      "    [HttpPost]",
      "    public async Task<IActionResult> Create(${2:CreateEntityCommand} command)",
      "    {",
      "        var result = await _mediator.Send(command);",
      "        return Ok(result);",
      "    }",
      "}"
    ],
    "description": "API controller with MediatR usage"
  },

  "Value Object Record": {
    "prefix": "valueobject",
    "body": [
      "public record ${1:Email}(string Value)",
      "{",
      "    public static Email Create(string value)",
      "    {",
      "        if (string.IsNullOrWhiteSpace(value) || !value.Contains(\"@\"))",
      "            throw new ArgumentException(\"Invalid email\");",
      "",
      "        return new Email(value);",
      "    }",
      "}"
    ],
    "description": "Value Object pattern with validation"
  },

  "Service with Interface": {
    "prefix": "service",
    "body": [
      "public interface I${1:Entity}Service",
      "{",
      "    Task<${2:ResultType}> DoSomethingAsync(${3:ParamType} param, CancellationToken cancellationToken);",
      "}",
      "",
      "public class ${1:Entity}Service : I${1:Entity}Service",
      "{",
      "    public ${1:Entity}Service()",
      "    {",
      "        // inject dependencies",
      "    }",
      "",
      "    public async Task<${2:ResultType}> DoSomethingAsync(${3:ParamType} param, CancellationToken cancellationToken)",
      "    {",
      "        // business logic",
      "        throw new NotImplementedException();",
      "    }",
      "}"
    ],
    "description": "Service pattern with DI and async method"
  },

  "Enum with JsonConverter": {
    "prefix": "enumjson",
    "body": [
      "[JsonConverter(typeof(JsonStringEnumConverter))]",
      "public enum ${1:TransactionType}",
      "{",
      "    Income = 1,",
      "    Expense = 2",
      "}"
    ],
    "description": "Enum with System.Text.Json string converter"
  },

  "Extension Method": {
    "prefix": "extension",
    "body": [
      "public static class ${1:Entity}Extensions",
      "{",
      "    public static ${2:ReturnType} ${3:MethodName}(this ${4:Entity} entity)",
      "    {",
      "        // logic here",
      "        throw new NotImplementedException();",
      "    }",
      "}"
    ],
    "description": "Static extension method pattern"
  },

  "Result Class": {
    "prefix": "result",
    "body": [
      "public class Result<T>",
      "{",
      "    public bool IsSuccess { get; init; }",
      "    public string? Error { get; init; }",
      "    public T? Value { get; init; }",
      "",
      "    private Result() { }",
      "",
      "    public static Result<T> Success(T value) => new() { IsSuccess = true, Value = value };",
      "    public static Result<T> Failure(string error) => new() { IsSuccess = false, Error = error };",
      "}"
    ],
    "description": "Functional Result<T> pattern for safe returns"
  },

  "Entity Base": {
    "prefix": "entitybase",
    "body": [
      "public abstract class EntityBase",
      "{",
      "    public Guid Id { get; protected set; } = Guid.NewGuid();",
      "    public DateTime CreatedAt { get; protected set; } = DateTime.UtcNow;",
      "    public DateTime? UpdatedAt { get; protected set; }",
      "",
      "    protected EntityBase() { }",
      "}"
    ],
    "description": "Classe base para entidades com Id e timestamps"
  }
}